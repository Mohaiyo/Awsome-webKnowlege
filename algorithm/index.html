<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>算法测试</title>
</head>
<body>
  算法测试
</body>
<script type="text/javascript">
  /**
   * 冒泡排序
   * arr 要排序的数据
   * */
  
  function bubbleSort(arr) {
    if (!arr || !arr.length) {
      return []
    }
    const len = arr.length - 1
    for (let end = len; end > 0; end--) { // 遍历前面未排序完毕的数据继续冒泡
      for (let i = 0; i < end; i++) { // 遍历数组将最大的数据沉到底部
        if (arr[i] > arr[i+1]) {
          swap(arr, i, i+1)
        }
      }
    }
    console.log('arr', arr)
    return arr
  }
  function swap(arr, i, j) {
    var temp = arr[j]
    arr[j] = arr[i]
    arr[i] = temp
  }

  // bubbleSort([3,4,13,4,14,5,13,41])
  // [3, 4, 4, 13, 14, 5, 13, 41]
  // [3, 4, 4, 13, 5, 14, 13, 41]
  // [3, 4, 4, 13, 5, 13, 14, 41]
  bubbleSort([41,31,21,11,1])
  // 4 0 1 2 3 3 0 1 2 2 0 1 1 0
  // [41,31,21,11,1]
  // [31,41,21,11,1]
  // [31,21,41,11,1]
  // [31,21,11,41,1]
  // [31,21,11,1,41]
  // [21,31,11,1,41]
  // [21,11,31,1,41]
  // [21,11,1,31,41]
  // [11,21,1,31,41]
  // [11,1,21,31,41]
  // [1,11,21,31,41]

  /**
   * 选择排序
   * arr 要进行选择排序的数组
   * */
  function selectSort(arr) {
    if (!arr || !arr.length) {
      return []
    }
    const arrLen = arr.length - 1
    for (let i = 0; i < arrLen; i++) {
      let miniIndex = i;
      for (let j = i + 1; j < arr.length; j++) {
        miniIndex = arr[j] < arr[miniIndex] ? j : miniIndex
      }
      if (miniIndex !== i) {
        swap(arr, i, miniIndex)
      }
    }
    console.log('arr', arr)
    return arr
  }

  // [41, 31, 21, 11, 1]
  // 0 1 2 3 4
  // i = 0
  // j = 1 miniIndex = 1
  // j = 2 miniIndex = 2
  // j = 3 miniIndex = 3
  // j = 4 miniIndex = 4
  // 交换 0 与 4
  // [1, 31, 21, 11, 41] // 最小的排到最前面
  // 1 2 3 4
  // i = 1
  // j = 2 miniIndex = 2
  // j = 3 miniIndex = 3
  // 交换 1 3
  // [1, 11, 21, 31, 41]
  // 2 3 4
  // i = 2
  // j = 3 miniIndex = 2
  // j = 4 miniIndex = 2
  // 不用执行了
  // 3 4
  // i = 3
  // j = 4 miniIndex = 3
  selectSort([41,31,21,11,1])

  // 选择排序算法优于冒泡排序

  /**
   * 插入排序
   * arr 要进行选择排序的数组
   * */

  function insertSort() {
    if (!arr || !arr.length) {
      return []
    }
    for (let i = 0; i < arr.length; i++) {
      for(var j = i - 1; j >= 0 && arr[j] > arr[j + 1]; j--) {
        swap(arr, j, j + 1);
      }
    }
    
  }
</script>
</html>